<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mice in Rhythm: Interactive Visualization</title>
  <style>
    :root {
      --bg-color: #fefaf6;
      --card-bg: #ffffff;
      --accent: #0077aa;
      --header-color: #2d2d2d;
      --text-color: #333;
      --border-color: #ddd;
    }

    body {
      font-family: "Segoe UI", system-ui, sans-serif;
      background: var(--bg-color);
      color: var(--text-color);
      max-width: 960px;
      margin: 0 auto;
      padding: 2rem 1.5rem;
      line-height: 1.7;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 0.2rem;
      color: var(--header-color);
    }

    h2 {
      font-size: 1.4rem;
      margin-top: 2.5rem;
      margin-bottom: 0.75rem;
      border-bottom: 2px solid var(--border-color);
      padding-bottom: 0.3rem;
    }

    h3 {
      font-size: 1.2rem;
      margin-bottom: 0.3rem;
      color: var(--accent);
    }

    header {
      text-align: center;
      margin-bottom: 2rem;
    }

    .team-info {
      font-size: 0.95rem;
      margin-top: 0.8rem;
      color: #555;
    }

    section {
      background: var(--card-bg);
      padding: 1.5rem;
      border-radius: 0.75rem;
      box-shadow: 0 1px 4px rgba(0, 0, 0, 0.06);
      margin-bottom: 1.5rem;
      border: 1px solid var(--border-color);
    }

    .visualization {
      background: #f8fcff;
      border-left: 6px solid var(--accent);
    }

    #chart-container {
      margin-top: 1rem;
      min-height: 300px;
      background: #fafafa;
      border: 1px dashed #ccc;
      border-radius: 0.5rem;
      padding: 1rem;
      text-align: center;
    }

    figcaption {
      font-size: 0.85rem;
      color: #666;
      margin-top: 0.3rem;
    }

    footer {
      margin-top: 4rem;
      text-align: center;
      font-size: 0.9rem;
      color: #888;
      border-top: 1px solid #ddd;
      padding-top: 1.5rem;
    }

    .btn:hover{ background:#e6f0ff }
    .btn.active{ background:#bfdcff }

    .scatter-hint {
      font-size: 0.85rem;
      color: #666;
      margin-top: 4px;
      text-align: center;
    }





    @media (max-width: 600px) {
      body {
        padding: 1rem;
      }
    }
  </style>
  <style>
    body{font-family:system-ui,sans-serif;margin:24px;background:#fafafa}
    h2{margin:4px 0;font-size:18px}
    .panel{margin-bottom:56px}
    .controls{margin-bottom:6px}
    .btn{padding:4px 10px;border:1px solid #6c8ab5;border-radius:4px;background:#fff;margin-right:4px;cursor:pointer}
    .btn.active{background:#dbe8ff;font-weight:600}
    svg{border:1px solid #ddd;background:#fff}
    .axis path,.axis line{stroke:#888}
    .tooltip{position:fixed;pointer-events:none;background:#333;color:#fff;padding:4px 6px;border-radius:3px;font-size:12px;opacity:.9}
    dialog{border:none;border-radius:6px;box-shadow:0 4px 10px rgba(0,0,0,.25);padding:14px}
    dialog::backdrop{background:rgba(0,0,0,.35)}
    #scatter-close{float:right;background:#e33;color:#fff;border:none;border-radius:3px;padding:2px 6px;cursor:pointer}
  </style>
</head>

<body>
  <header>
    <h1>Mice in Rhythm</h1>
    <h3>How do circadian rhythms and estrus cycles differently influence activity and temperature patterns in male and female mice?</h3>
    <div class="team-info">
      <strong>Team Name: 404 Found</strong><br>
      <strong>Team Members:</strong> Wenxi Li, Yixuan Xin, Juntong Ye, Sirui Zhang<br>
      <strong>UCSD Emails:</strong> wel055@ucsd.edu, yixin@ucsd.edu, juy037@ucsd.edu, siz012@ucsd.edu
    </div>
  </header>

  <main>
    <section class="visualization" id="interactive-viz">
      <h2>Interactive Visualization</h2>
      <p>[Brief description of how to interact with the visualization]</p>
      <div id="chart-container">
        <!-- pasted from newvis.html: -->
        <div class="panel" id="activity-panel">
          <h2>Mean Activity (Female & Male)</h2>
          <div class="controls">
            <button class="btn active" data-mode="light"  data-target="activity">Highlight Light</button>
            <button class="btn"        data-mode="dark"   data-target="activity">Highlight Dark</button>
            <button class="btn"        data-mode="estrus" data-target="activity">Highlight Estrus (♀)</button>
          </div>
          <p class="scatter-hint">
          <em>Hold Ctrl (Windows/Linux) or ⌘ (Mac) and click on the chart to open the scatter plot.</em>
          </p>
          <svg id="activity" width="960" height="420"></svg>
        </div>
        
        <div class="panel" id="temp-panel">
          <h2>Mean Core-Body Temperature (Female & Male)</h2>
          <div class="controls">
            <button class="btn active" data-mode="light"  data-target="temp">Highlight Light</button>
            <button class="btn"        data-mode="dark"   data-target="temp">Highlight Dark</button>
            <button class="btn"        data-mode="estrus" data-target="temp">Highlight Estrus (♀)</button>
          </div>
          <p class="scatter-hint">
            <em>Hold Ctrl (Windows/Linux) or ⌘ (Mac) and click on the chart to open the scatter plot.</em>
          </p>
          <svg id="temp" width="960" height="420"></svg>
        </div>
        <div id="tooltip" class="tooltip" style="display:none"></div>
        <dialog id="scatterDlg">
          <button id="scatter-close">✕</button>
          <h3 id="scatter-title" style="margin:4px 0 8px">
            Temperature vs Activity (12-h window)
          </h3>
          <svg width="420" height="420"></svg>
        </dialog>
      </div>
    </section>

    <section>
      <h2>Design Rationale</h2>
      <p>[Write about your design choices: visual encodings, interactivity, color choices, layout, etc.]</p>
      <ul>
      <h2>Layout and Structure</h2>
      <li>The data is split into two parts corresponding to 2 data types, ensuring clarity and transaprency and avoiding data overlay[Notes:We tried the version combining variables together but the data shows many noise].</li>
      <li><strong>Independent Scale Controls:</strong>Users can choose between different light setup to see the change, and also choosing the female Estrus cycle to see special pattern. </li>

      <h2>Visual Encodings and Color Choices</h2>
      <li><strong>Dividing by gender on separate graphs:</strong>The graph distinguishes between female and male measurements on separate scales its own row.</li>
      <li><strong>Color coding:</strong>For female we mainly use a warm dark red while male is dark blue, representing the cultural association. For different light phases, we choose soft yellow and gray to demonstrate light(warm sun color) and night conditions. For the Estrus cycle we choose subtle pink because it consonants with  estrual/menstrual cycle female unique for. </li>
      
      <h2>Interactive Visualization</h2>
      <li><strong>Zoom in and out:</strong>Readers may either elongate or compress the graph horizontally based on the time ranges to choose the specifc time on the page.</li>
      <li><strong>Dragging navigation:</strong>When you dragging the x-axis it can change the accuracy from 1000-2000 to 100-200, enable users see more details or a general view of overall trend.</li>
      <li><strong>tooltip Support:</strong>Hovering on specifc data points reveal precise time and variables(either activity or temperature) values, either in female or male. This helps to inspect local details without a clusterred barrier.</li>
      <li><strong>Control Click:</strong>Ctrl-click anywhere on the chart pops up a modal scatterplot of Temperature vs Activity for that 12-hour window (6 h before and after the click), allowing to see the deeper coorelation between temperature and activity.</li>
      <h2>Alternatives and Reasons for Current Design</h2>
      <li>[Discuss what alternatives were considered and why the final design was chosen]</li>
      </ul>
    </section>

    <section>
      <h2>Development Process</h2>
      <p>[Describe how your team developed the visualization, including tool choices, data prep, and iterations]</p>
      <p>
        <strong>Team Roles:</strong><br>
        [List which team member did what. Example: A built filters, B handled data cleaning, etc.]
      </p>
      <p>[Roughly how many total people-hours did the project take?]</p>
    </section>

    <section>
      <h2>Reflection</h2>
      <p>[What did your team learn from this project? What was most difficult or surprising?]</p>
      <p>[How might this visualization be expanded or improved in the future?]</p>
    </section>

    <footer>
      <p>© Spring 2025 | DSC 106 - UC San Diego | Team Mice in Rhythm</p>
    </footer>
  </main>

  <!-- Load D3 -->
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <!-- Load your custom script -->
  <script src="main.js"></script>
</body>
</html>